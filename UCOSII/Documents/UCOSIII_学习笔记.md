# UCOSIII 学习笔记

- [UCOSIII 学习笔记](#ucosiii-学习笔记)
  - [参考资料](#参考资料)
  - [第0章 前言](#第0章-前言)
  - [第二章 裸机系统和多任务系统](#第二章-裸机系统和多任务系统)
  - [第三章 任务的定义和任务切换的实现](#第三章-任务的定义和任务切换的实现)

## 参考资料

- 网上野火提供的资料

参考文档：https://doc.embedfire.com/rtos/ucos/i.mx_rt1052/zh/latest/zero_to_one/foreword.html
参考视频：https://www.bilibili.com/video/av62027241/

## 第0章 前言

- 学习一款操作系统：应该学习它的原理，框架，思想，实现方式；
- RTOS 和 裸机开发区别还是挺大的
- 学习 UCOSIII 分为两步
  - 1、任务，任务栈，任务控制块，调度器，状态，任务列表等
  - 2、信号量，互斥量，消息队列，内存管理；IPC 通信等
- uCOS-III：Micor C OS Three 微型 C 操作系统 第三代
  - Micrium 公司开发

## 第二章 裸机系统和多任务系统

- 轮询系统：只有一个死循环，延时控制
  - 上学的时候用的系统，只能用在简单的顺序执行的程序中
- 前后台系统：加入中断，在中断中响应，在轮询死循环中完成；中断是前台，轮询系统是后台
  - 中小型系统中用的比较多，响应快速
  - 就是现在定时 4ms 的系统
- 多任务系统：RTOS 事件响应在中断中，事件处理在任务中；
  - 任务也有优先级，优先级高的任务会被先执行，使用调度器对任务调度
  - 比如：一个任务被挂起，当中断中产生事件，恢复任务，按优先级执行任务
  - 中断要快进快出

## 第三章 任务的定义和任务切换的实现

- 作业一：自己动手把 UCOS 中的源码提取出来，简单化，写一个最简单的 UCOS 内核；
- SP 栈指针，有两种，详情参考 Cortex-M3 内核手册
  - PSP：任务指针，在任务中使用
  - MSP：主栈指针，在 RAM 中使用，裸机开发使用的都是主栈指针
- 任务栈的初始化，也要参考 Cortex-M3 内核手册
- PendSV 异常服务中断：用于实现任务的切换；移植的时候需要修改
- SysTick 滴答定时器：时基；移植的时候需要修改


